{"version":3,"sources":["scripts/app.js"],"names":["angular","module","productController","component","templateUrl","controller","bindings","product","factory","Service","checkContains","arr","el","contains","needle","indexOf","findNaN","Array","prototype","i","index","this","length","item","call","productsCompController","MainRestService","productsCompService","checkProduct","idx","ctrl","batchProducts","idxProduct","products","total","splice","checked","parseFloat","amount","push","getProducts","then","data","console","log","$inject","$http","$q","config","deferred","defer","get","api","success","response","status","headers","resolve","error","reject","promise","MainController","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","controllerAs","otherwise","constant","malarkey","moment","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-97a175a404.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('productsTree', ['ngSanitize', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'toastr']);\n\n})();\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n  .module('productsTree')\r\n  .component('product', {\r\n    templateUrl: 'app/components/productsComp/product/product.html',\r\n    controller: productController,\r\n    bindings: {\r\n      product: '<'\r\n    }\r\n  });\r\n\r\n  function productController() {\r\n    var ctrl = this;\r\n\r\n\r\n  }\r\n\r\n})();\n(function () {\r\n'use strict';\r\n\r\nangular.module('productsTree')\r\n.factory('productsCompService', function () {\r\n    var Service = {\r\n\r\n        checkContains: function (arr, el) {\r\n            var contains = function(needle) {\r\n                var findNaN = needle !== needle;\r\n                var indexOf;\r\n\r\n                if(!findNaN && typeof Array.prototype.indexOf === 'function') {\r\n                    indexOf = Array.prototype.indexOf;\r\n                } else {\r\n                    indexOf = function(needle) {\r\n                        var i = -1, index = -1;\r\n\r\n                        for(i = 0; i < this.length; i++) {\r\n                            var item = this[i];\r\n\r\n                            if((findNaN && item !== item) || item === needle) {\r\n                                index = i;\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        return index;\r\n                    };\r\n                }\r\n\r\n                return indexOf.call(this, needle) > -1;\r\n            };\r\n\r\n            return contains.call(arr, el);\r\n        }\r\n    };\r\n\r\n    return Service;\r\n});\r\n\r\n})();\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n  .module('productsTree')\r\n  .component('productsComp', {\r\n    templateUrl: 'app/components/productsComp/productsComp.html',\r\n    controller: productsCompController\r\n  });\r\n\r\n  function productsCompController(MainRestService, productsCompService) {\r\n    var ctrl = this;\r\n\r\n    ctrl.products = [];\r\n    ctrl.batchProducts = [];\r\n    ctrl.total = 0.00;\r\n    ctrl.checkProduct = checkProduct;\r\n\r\n    MainRestService.getProducts()\r\n    .then(function (data) {\r\n        if (data.products.length > 0) {\r\n\r\n          ctrl.products = data.products;\r\n\r\n          console.log(ctrl.products);\r\n        }\r\n    });\r\n\r\n    function checkProduct(product) {\r\n      var idx = ctrl.batchProducts.indexOf(product),\r\n          idxProduct = ctrl.products.indexOf(product),\r\n          total = 0;\r\n      \r\n      if (idx != -1) {\r\n\r\n        ctrl.batchProducts.splice(idx, 1);\r\n        ctrl.products[idxProduct].checked = false;\r\n        total = ctrl.total - parseFloat(product.amount);\r\n        ctrl.total = total;\r\n      }else {\r\n\r\n        ctrl.batchProducts.push(product);\r\n        ctrl.products[idxProduct].checked = true;\r\n        total = ctrl.total + parseFloat(product.amount);\r\n        ctrl.total = total;\r\n      }\r\n    }\r\n  }\r\n\r\n})();\n(function () {\r\n'use strict';\r\n\r\nangular.module('productsTree')\r\n.factory('MainRestService', function ($http, $q, config) {\r\n    var Service = {\r\n\r\n        getProducts: function () {\r\n            var deferred = $q.defer();\r\n\r\n            $http.get(config.api.products).success(function (response, status, headers, config) {\r\n\r\n                deferred.resolve(response, status, headers, config);\r\n            }).error(function (response, status, headers, config) {\r\n                \r\n                deferred.reject(response, status, headers, config);\r\n            });\r\n\r\n            return deferred.promise;\r\n        }\r\n    };\r\n\r\n    return Service;\r\n});\r\n\r\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('productsTree')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController(MainRestService) {\n    var vm = this;\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('productsTree')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('productsTree')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('productsTree')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment)\n\n    .constant('config', {\n      api: {\n      \tproducts: 'app/main/data/products.json'\n      }\n    });\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('productsTree')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"productsTree\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<products-comp></products-comp>\");\n$templateCache.put(\"app/components/productsComp/productsComp.html\",\"<div class=\\\"app app-aside-folded\\\"><!-- content --><div id=content class=app-content role=main><div class=\\\"app-content-body app-content-full fade-in-up h-full\\\"><div id=pageContent class=\\\"hbox hbox-auto-xs hbox-auto-sm fade-in-up\\\"><div id=WiSecure_batchCol class=\\\"col w-xxl b-r\\\"><div class=vbox><div class=\\\"col-header wrapper-sm bg-white b-b\\\"><i class=\\\"fa fa-circle-o-notch text-success-lter pull-right fa-spin\\\" style=\\\"display: none\\\"></i><h4 class=h4>Products</h4></div><div class=row-row><div class=cell><div class=cell-inner><div class=wrapper-sm><div class=WiSecure_productsList><product ng-repeat=\\\"product in $ctrl.products\\\" ng-click=$ctrl.checkProduct(product) product=product></product><!-- <div \\r\\n                                            ng-repeat=\\\"product in $ctrl.products\\\" \\r\\n                                            class=\\\"panel wrapper-sm b-b WiSecure_productSelectContainer text-ellipsis bg-info\\\"\\r\\n                                            ng-click=\\\"$ctrl.checkProduct(product)\\\">\\r\\n                                                <span class=\\\"pull-right\\\">$ {{product.amount}}</span>\\r\\n                                                {{product.title}}\\r\\n                                                <b>{{product.date}}</b>\\r\\n                                            </div> --></div></div></div></div></div><div class=\\\"col-footer wrapper-sm bg-white b-t\\\"></div></div></div><div class=\\\"toggle-col col w-xxl b-r\\\"><div class=vbox><div class=\\\"col-header wrapper-sm bg-white b-b\\\"><h4 class=h4>Batch</h4></div><div class=row-row><div class=cell><div class=cell-inner><div class=wrapper-sm><div class=WiSecure_batchContainer><div class=\\\"run-item panel bg-white wrapper-sm b-b WiSecure_productContainer\\\" ng-repeat=\\\"product in $ctrl.batchProducts track by $index\\\">{{product.title}} <span class=pull-right>$ {{product.amount}}</span></div></div></div></div></div></div><div class=\\\"col-footer wrapper-sm bg-white b-t\\\"><h4 class=\\\"h4 m-t-sm m-b-xs\\\">Total: <span class=pull-right>$ <span class=WiSecure_batchTotal>{{$ctrl.total | number:2}}</span></span></h4></div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/components/productsComp/product/product.html\",\"<div class=\\\"panel wrapper-sm b-b WiSecure_productSelectContainer text-ellipsis\\\" ng-class=\\\"{\\'bg-info\\': $ctrl.product.checked}\\\"><span class=pull-right>$ {{$ctrl.product.amount}}</span> {{$ctrl.product.title}} <b>{{$ctrl.product.date}}</b></div>\");}]);"],"sourceRoot":"/source/"}