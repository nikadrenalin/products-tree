{"version":3,"sources":["scripts/app.js"],"names":["angular","module","component","templateUrl","bindings","product","factory","$http","$q","config","Service","getProducts","deferred","defer","get","api","products","success","response","status","headers","resolve","error","reject","promise","productsCompController","productsCompService","checkProduct","idx","ctrl","batchProducts","indexOf","idxProduct","total","splice","checked","parseFloat","amount","push","this","then","data","length","$inject","controller","MainController","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","controllerAs","otherwise","constant","malarkey","moment","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"CAAA,WACE,YAEAA,SACGC,OAAO,gBAAiB,aAAc,SAAU,aAAc,YAAa,eAAgB,cAIhG,WACE,YAEAD,SACCC,OAAO,gBACPC,UAAU,WACTC,YAAa,mDACbC,UACEC,QAAS,UAMf,WACA,YAEAL,SAAQC,OAAO,gBACdK,QAAQ,uBAAA,QAAA,KAAA,SAAuB,SAAUC,EAAOC,EAAIC,GACjD,GAAIC,IAEAC,YAAa,WACT,GAAIC,GAAWJ,EAAGK,OAUlB,OARAN,GAAMO,IAAIL,EAAOM,IAAIC,UAAUC,QAAQ,SAAUC,EAAUC,EAAQC,EAASX,GAExEG,EAASS,QAAQH,EAAUC,EAAQC,EAASX,KAC7Ca,MAAM,SAAUJ,EAAUC,EAAQC,EAASX,GAE1CG,EAASW,OAAOL,EAAUC,EAAQC,EAASX,KAGxCG,EAASY,SAIxB,OAAOd,SAIX,WACE,YASA,SAASe,GAAuBC,GAgB9B,QAASC,GAAatB,GACpB,GAAIuB,GAAMC,EAAKC,cAAcC,QAAQ1B,GACjC2B,EAAaH,EAAKb,SAASe,QAAQ1B,GACnC4B,EAAQ,CAED,KAAPL,GAEFC,EAAKC,cAAcI,OAAON,EAAK,GAC/BC,EAAKb,SAASgB,GAAYG,SAAU,EACpCF,EAAQJ,EAAKI,MAAQG,WAAW/B,EAAQgC,QACxCR,EAAKI,MAAQA,IAGbJ,EAAKC,cAAcQ,KAAKjC,GACxBwB,EAAKb,SAASgB,GAAYG,SAAU,EACpCF,EAAQJ,EAAKI,MAAQG,WAAW/B,EAAQgC,QACxCR,EAAKI,MAAQA,GA/BjB,GAAIJ,GAAOU,IAEXV,GAAKb,YACLa,EAAKC,iBACLD,EAAKI,MAAQ,EACbJ,EAAKF,aAAeA,EAEpBD,EAAoBf,cACnB6B,KAAK,SAAUC,GACRA,EAAKzB,SAAS0B,OAAS,IAEzBb,EAAKb,SAAWyB,EAAKzB,YAnB7BS,EAAuBkB,SAAW,uBAAlC3C,QACCC,OAAO,gBACPC,UAAU,gBACTC,YAAa,gDACbyC,WAAYnB,OAyChB,WACE,YAOA,SAASoB,MALT7C,QACGC,OAAO,gBACP2C,WAAW,iBAAkBC,MAMlC,WACE,YAOA,SAASC,GAASC,GAEhBA,EAAKC,MAAM,gBANbF,EAASH,SAAW,QADpB3C,QACGC,OAAO,gBACPgD,IAAIH,MAUT,WACE,YAOA,SAASI,GAAaC,EAAgBC,GACpCD,EACGE,MAAM,QACLC,IAAK,IACLnD,YAAa,qBACbyC,WAAY,iBACZW,aAAc,SAGlBH,EAAmBI,UAAU,KAZ/BN,EAAaP,SAAW,iBAAkB,sBAF1C3C,QACGC,OAAO,gBACPQ,OAAOyC,MAkBZ,WACE,YAEAlD,SACGC,OAAO,gBACPwD,SAAS,WAAYC,UACrBD,SAAS,SAAUE,QAEnBF,SAAS,UACR1C,KACEC,SAAU,oCAMlB,WACE,YAOA,SAASP,GAAOmD,EAAcC,GAE5BD,EAAaE,cAAa,GAG1BD,EAAaE,WAAY,EACzBF,EAAaG,QAAU,IACvBH,EAAaI,cAAgB,kBAC7BJ,EAAaK,mBAAoB,EACjCL,EAAaM,aAAc,EAX7B1D,EAAOkC,SAAW,eAAgB,gBAHlC3C,QACGC,OAAO,gBACPQ,OAAOA,MAiBZT,QAAQC,OAAO,gBAAgBgD,KAAK,iBAAkB,SAASmB,GAAiBA,EAAeC,IAAI,qBAAqB,mCACxHD,EAAeC,IAAI,gDAAgD,2kEACnED,EAAeC,IAAI,mDAAmD","file":"scripts/app-2779a11f5a.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('productsTree', ['ngSanitize', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'toastr']);\n\n})();\n\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n  .module('productsTree')\r\n  .component('product', {\r\n    templateUrl: 'app/components/productsComp/product/product.html',\r\n    bindings: {\r\n      product: '<'\r\n    }\r\n  });\r\n\r\n})();\n\r\n(function () {\r\n'use strict';\r\n\r\nangular.module('productsTree')\r\n.factory('productsCompService', function ($http, $q, config) {\r\n    var Service = {\r\n\r\n        getProducts: function () {\r\n            var deferred = $q.defer();\r\n\r\n            $http.get(config.api.products).success(function (response, status, headers, config) {\r\n\r\n                deferred.resolve(response, status, headers, config);\r\n            }).error(function (response, status, headers, config) {\r\n                \r\n                deferred.reject(response, status, headers, config);\r\n            });\r\n\r\n            return deferred.promise;\r\n        }\r\n    };\r\n\r\n    return Service;\r\n});\r\n\r\n})();\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n  .module('productsTree')\r\n  .component('productsComp', {\r\n    templateUrl: 'app/components/productsComp/productsComp.html',\r\n    controller: productsCompController\r\n  });\r\n\r\n  function productsCompController(productsCompService) {\r\n    var ctrl = this;\r\n\r\n    ctrl.products = [];\r\n    ctrl.batchProducts = [];\r\n    ctrl.total = 0.00;\r\n    ctrl.checkProduct = checkProduct;\r\n\r\n    productsCompService.getProducts()\r\n    .then(function (data) {\r\n        if (data.products.length > 0) {\r\n\r\n          ctrl.products = data.products;\r\n        }\r\n    });\r\n\r\n    function checkProduct(product) {\r\n      var idx = ctrl.batchProducts.indexOf(product),\r\n          idxProduct = ctrl.products.indexOf(product),\r\n          total = 0;\r\n      \r\n      if (idx != -1) {\r\n\r\n        ctrl.batchProducts.splice(idx, 1);\r\n        ctrl.products[idxProduct].checked = false;\r\n        total = ctrl.total - parseFloat(product.amount);\r\n        ctrl.total = total;\r\n      }else {\r\n\r\n        ctrl.batchProducts.push(product);\r\n        ctrl.products[idxProduct].checked = true;\r\n        total = ctrl.total + parseFloat(product.amount);\r\n        ctrl.total = total;\r\n      }\r\n    }\r\n  }\r\n\r\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('productsTree')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController() {}\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('productsTree')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('productsTree')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('productsTree')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment)\n\n    .constant('config', {\n      api: {\n        products: 'app/main/data/products.json'\n      }\n    });\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('productsTree')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"productsTree\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<products-comp></products-comp>\");\n$templateCache.put(\"app/components/productsComp/productsComp.html\",\"<div class=\\\"app app-aside-folded\\\"><!-- content --><div id=content class=app-content role=main><div class=\\\"app-content-body app-content-full fade-in-up h-full\\\"><div id=pageContent class=\\\"hbox hbox-auto-xs hbox-auto-sm fade-in-up\\\"><div id=WiSecure_batchCol class=\\\"col w-xxl b-r\\\"><div class=vbox><div class=\\\"col-header wrapper-sm bg-white b-b\\\"><i class=\\\"fa fa-circle-o-notch text-success-lter pull-right fa-spin\\\" style=\\\"display: none\\\"></i><h4 class=h4>Products</h4></div><div class=row-row><div class=cell><div class=cell-inner><div class=wrapper-sm><div class=WiSecure_productsList><product ng-repeat=\\\"product in $ctrl.products\\\" ng-click=$ctrl.checkProduct(product) product=product></product><!-- <div \\r\\n                                            ng-repeat=\\\"product in $ctrl.products\\\" \\r\\n                                            class=\\\"panel wrapper-sm b-b WiSecure_productSelectContainer text-ellipsis bg-info\\\"\\r\\n                                            ng-click=\\\"$ctrl.checkProduct(product)\\\">\\r\\n                                                <span class=\\\"pull-right\\\">$ {{product.amount}}</span>\\r\\n                                                {{product.title}}\\r\\n                                                <b>{{product.date}}</b>\\r\\n                                            </div> --></div></div></div></div></div><div class=\\\"col-footer wrapper-sm bg-white b-t\\\"></div></div></div><div class=\\\"toggle-col col w-xxl b-r\\\"><div class=vbox><div class=\\\"col-header wrapper-sm bg-white b-b\\\"><h4 class=h4>Batch</h4></div><div class=row-row><div class=cell><div class=cell-inner><div class=wrapper-sm><div class=WiSecure_batchContainer><div class=\\\"run-item panel bg-white wrapper-sm b-b WiSecure_productContainer\\\" ng-repeat=\\\"product in $ctrl.batchProducts track by $index\\\">{{product.title}} <span class=pull-right>$ {{product.amount}}</span></div></div></div></div></div></div><div class=\\\"col-footer wrapper-sm bg-white b-t\\\"><h4 class=\\\"h4 m-t-sm m-b-xs\\\">Total: <span class=pull-right>$ <span class=WiSecure_batchTotal>{{$ctrl.total | number:2}}</span></span></h4></div></div></div></div></div></div></div>\");\n$templateCache.put(\"app/components/productsComp/product/product.html\",\"<div class=\\\"panel wrapper-sm b-b WiSecure_productSelectContainer text-ellipsis\\\" ng-class=\\\"{\\'bg-info\\': $ctrl.product.checked}\\\"><span class=pull-right>$ {{$ctrl.product.amount}}</span> {{$ctrl.product.title}} <b>{{$ctrl.product.date}}</b></div>\");}]);"],"sourceRoot":"/source/"}